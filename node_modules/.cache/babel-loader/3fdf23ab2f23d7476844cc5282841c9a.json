{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Desktop/dev/React/src/components/Movies.js\";\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport Header from \"./Header\";\nimport MovieList from \"./MovieList\";\n\nclass Movies extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filtered: [],\n      movies: [],\n      title: \"Popular Movies\"\n    };\n    this.search = this.search.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.formatResults = this.formatResults.bind(this);\n  }\n\n  componentDidMount() {\n    let apiKey = `6ed12e064b90ae1290fa326ce9e790ff`;\n    let url = `https://api.themoviedb.org/3/trending/all/day?api_key=${apiKey}&language=en-US`;\n    fetch(url).then(res => {\n      return res.json();\n    }).then(data => {\n      this.setState({\n        movies: data.results\n      });\n      this.formatResults(data.results);\n    });\n  }\n\n  handleKeyDown(e) {\n    let heading = document.querySelector(\".CollectionHeading\").firstElementChild;\n    let query = e.target.value;\n    this.search();\n\n    if (query === \"\") {\n      this.formatResults(this.state.movies);\n      heading.innerText = \"Popular Movies\";\n    }\n  }\n\n  search() {\n    let heading = document.querySelector(\".CollectionHeading\").firstElementChild;\n    let query = document.querySelector(\".SearchInput\").value;\n\n    if (query !== \"\") {\n      heading.innerText = `Results for ${query}:`;\n      fetch(`https://api.themoviedb.org/3/search/movie?api_key=6ed12e064b90ae1290fa326ce9e790ff&language=en-US&&page=1&include_adult=false&query=${query}`).then(res => {\n        return res.json();\n      }).then(data => {\n        debugger;\n        this.formatResults(data.results);\n      });\n    }\n  }\n\n  formatResults(results) {\n    debugger;\n    var movieElements = results.map(movieItem => {\n      return {\n        title: movieItem.original_title,\n        date: movieItem.release_date,\n        image: \"https://image.tmdb.org/t/p/w600_and_h900_bestv2/\" + movieItem.poster_path,\n        average: movieItem.vote_average * 10,\n        link: `/movie/${movieItem.id}`\n      };\n    });\n    this.setState({\n      filtered: movieElements\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Search col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      onClick: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"SearchInput\",\n      placeholder: \"Search\",\n      onKeyUp: this.handleKeyDown,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(MovieList, {\n      movies: this.state.filtered,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["/Users/matt/Desktop/dev/React/src/components/Movies.js"],"names":["React","Component","FontAwesomeIcon","faSearch","Header","MovieList","Movies","constructor","props","state","filtered","movies","title","search","bind","handleKeyDown","formatResults","componentDidMount","apiKey","url","fetch","then","res","json","data","setState","results","e","heading","document","querySelector","firstElementChild","query","target","value","innerText","movieElements","map","movieItem","original_title","date","release_date","image","poster_path","average","vote_average","link","id","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport Header from \"./Header\"\nimport MovieList from \"./MovieList\"\n\nclass Movies extends Component {\n  constructor (props){\n  super(props);\n  this.state = {\n    filtered: [],\n      movies: [],\n      title: \"Popular Movies\"\n  };\n    this.search = this.search.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.formatResults = this.formatResults.bind(this);\n  }\n\n  componentDidMount() {\n    let apiKey = `6ed12e064b90ae1290fa326ce9e790ff`\n    let url = `https://api.themoviedb.org/3/trending/all/day?api_key=${apiKey}&language=en-US`\n    fetch(url)\n    .then(res => {\n      return res.json();\n    })\n    .then((data) => {\n      this.setState({\n        movies: data.results\n      });\n      this.formatResults(data.results)\n    })\n  }\n\n  handleKeyDown(e) {\n    let heading = document.querySelector(\".CollectionHeading\").firstElementChild;\n    let query = e.target.value;\n    this.search();\n     if (query === \"\") {\n       this.formatResults(this.state.movies)\n       heading.innerText = \"Popular Movies\"\n     }\n   }\n\n  search() {\n    let heading = document.querySelector(\".CollectionHeading\").firstElementChild;\n    let query = document.querySelector(\".SearchInput\").value;\n\n    if (query !== \"\") {\n      heading.innerText = `Results for ${ query }:`;\n      fetch(`https://api.themoviedb.org/3/search/movie?api_key=6ed12e064b90ae1290fa326ce9e790ff&language=en-US&&page=1&include_adult=false&query=${query}`)\n      .then(res => {\n        return res.json();\n      })\n      .then( (data) => {\n        debugger\n        this.formatResults(data.results)\n      });\n    }\n  }\n  \n  formatResults(results) {\n    debugger\n    var movieElements = results.map((movieItem) => {\n      return (\n        {\n          title: movieItem.original_title,\n          date: movieItem.release_date,\n          image: \"https://image.tmdb.org/t/p/w600_and_h900_bestv2/\" + movieItem.poster_path,\n          average:  movieItem.vote_average * 10,\n          link: `/movie/${movieItem.id}`\n        }\n      );\n    });\n    this.setState({ filtered: movieElements })\n  }\n  \n  render() {\n    return(\n      <div>\n        <Header />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"Search col-md-8\">\n              <span>\n                <FontAwesomeIcon\n                  icon={ faSearch }\n                  onClick={ this.search }/>\n              </span>\n              <input type=\"text\"\n                className=\"SearchInput\"\n                placeholder=\"Search\"\n                onKeyUp={ this.handleKeyDown } />\n              </div>\n            </div>\n            <MovieList movies={ this.state.filtered } />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Movies;\n"]},"metadata":{},"sourceType":"module"}