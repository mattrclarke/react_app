{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Desktop/dev/React/src/components/Show.js\";\nimport React, { Component } from 'react';\nimport Backdrop from './Backdrop';\nimport MovieContent from './MovieContent';\n\nclass Show extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: ''\n    };\n  }\n\n  componentDidMount() {\n    let id = this.props.match.params.id;\n    fetch(\"https://api.themoviedb.org/3/movie/\".concat(id, \"?api_key=6ed12e064b90ae1290fa326ce9e790ff&language=en-US\")).then(response => {\n      return response.json();\n    }).then(data => {\n      let url = \"https://image.tmdb.org/t/p/w600_and_h900_bestv2/\";\n      let poster = url + data.poster_path;\n      let backdrop = \"https://image.tmdb.org/t/p/w780/\" + data.backdrop_path;\n\n      function movieLength(runtime) {\n        const hours = Math.floor(runtime / 60);\n        const minutes = runtime % 60;\n        return \"\".concat(hours, \"h \").concat(minutes, \"min\");\n      }\n\n      let release_date = \"Unknown\";\n\n      if (data.release_date !== undefined) {\n        release_date = data.release_date.split(\"-\")[0];\n      }\n\n      let element = React.createElement(\"div\", {\n        className: \"ShowMovie\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Backdrop, {\n        history: this.props.history,\n        backdrop: backdrop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(MovieContent, {\n        poster: poster,\n        title: data.original_title,\n        releaseDate: release_date,\n        voteAverage: data.vote_average * 10,\n        movieLength: movieLength(data.runtime),\n        overview: data.overview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }));\n      this.setState({\n        movie: element\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.movie);\n  }\n\n}\n\nexport default Show;","map":{"version":3,"sources":["/Users/matt/Desktop/dev/React/src/components/Show.js"],"names":["React","Component","Backdrop","MovieContent","Show","constructor","props","state","movie","componentDidMount","id","match","params","fetch","then","response","json","data","url","poster","poster_path","backdrop","backdrop_path","movieLength","runtime","hours","Math","floor","minutes","release_date","undefined","split","element","history","original_title","vote_average","overview","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAC3BI,EAAAA,WAAW,CAAEC,KAAF,EAAQ;AACnB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAElB,QAAIC,EAAE,GAAG,KAAKJ,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBF,EAAjC;AACAG,IAAAA,KAAK,8CAAuCH,EAAvC,8DAAL,CACGI,IADH,CACQC,QAAQ,IAAI;AAChB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAHH,EAIGF,IAJH,CAIUG,IAAD,IAAU;AACb,UAAIC,GAAG,GAAG,kDAAV;AACA,UAAIC,MAAM,GAAGD,GAAG,GAAGD,IAAI,CAACG,WAAxB;AACA,UAAIC,QAAQ,GAAG,qCAAqCJ,IAAI,CAACK,aAAzD;;AAEA,eAASC,WAAT,CAAqBC,OAArB,EACE;AACE,cAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,GAAG,EAArB,CAAd;AACA,cAAMI,OAAO,GAAGJ,OAAO,GAAG,EAA1B;AACA,yBAAUC,KAAV,eAAoBG,OAApB;AACD;;AAEH,UAAIC,YAAY,GAAG,SAAnB;;AAEA,UAAIZ,IAAI,CAACY,YAAL,KAAsBC,SAA1B,EAAoC;AAClCD,QAAAA,YAAY,GAAGZ,IAAI,CAACY,YAAL,CAAkBE,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAf;AACD;;AAED,UAAIC,OAAO,GACT;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,OAAO,EAAE,KAAK1B,KAAL,CAAW2B,OAA9B;AACU,QAAA,QAAQ,EAAEZ,QADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAIE,oBAAC,YAAD;AAAc,QAAA,MAAM,EAAEF,MAAtB;AACS,QAAA,KAAK,EAAEF,IAAI,CAACiB,cADrB;AAES,QAAA,WAAW,EAAEL,YAFtB;AAGS,QAAA,WAAW,EAAEZ,IAAI,CAACkB,YAAL,GAAoB,EAH1C;AAIS,QAAA,WAAW,EAAEZ,WAAW,CAACN,IAAI,CAACO,OAAN,CAJjC;AAKS,QAAA,QAAQ,EAAEP,IAAI,CAACmB,QALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF;AAcF,WAAKC,QAAL,CAAc;AAAE7B,QAAAA,KAAK,EAAEwB;AAAT,OAAd;AACC,KArCL;AAsCG;;AAEHM,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK/B,KAAL,CAAWC,KADd,CADF;AAKD;;AAzD0B;;AA4D7B,eAAeJ,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport Backdrop from './Backdrop';\nimport MovieContent from './MovieContent';\n\nclass Show extends Component {\n  constructor (props){\n  super(props);\n  this.state = {\n    movie: ''\n  };\n}\n\ncomponentDidMount() {\n\n  let id = this.props.match.params.id\n  fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=6ed12e064b90ae1290fa326ce9e790ff&language=en-US`)\n    .then(response => {\n      return response.json();\n    })\n    .then( (data) => {\n        let url = \"https://image.tmdb.org/t/p/w600_and_h900_bestv2/\";\n        let poster = url + data.poster_path;\n        let backdrop = \"https://image.tmdb.org/t/p/w780/\" + data.backdrop_path;\n\n        function movieLength(runtime)\n          {\n            const hours = Math.floor(runtime / 60);\n            const minutes = runtime % 60;\n            return `${hours}h ${minutes}min`;\n          }\n\n        let release_date = \"Unknown\";\n        \n        if (data.release_date !== undefined){\n          release_date = data.release_date.split(\"-\")[0]\n        }\n        \n        let element = (\n          <div className=\"ShowMovie\">\n            <Backdrop history={this.props.history}\n                      backdrop={backdrop}/>\n                    \n            <MovieContent poster={poster}\n                     title={data.original_title}\n                     releaseDate={release_date}\n                     voteAverage={data.vote_average * 10}\n                     movieLength={movieLength(data.runtime)}\n                     overview={data.overview}\n            />\n          </div>\n        )\n      this.setState({ movie: element })\n      })\n    }\n\n  render() {\n    return(\n      <div>\n        {this.state.movie}\n      </div>\n    )\n  }\n}\n\nexport default Show;\n"]},"metadata":{},"sourceType":"module"}